//- Copyright (c) Forward Email LLC
//- SPDX-License-Identifier: BUSL-1.1

extends layout
block body
  .min-vh-80.d-flex.flex-column
    .container.py-5
      .row.justify-content-center
        .col-md-8.col-lg-6
          .card.border-themed
            .card-body.text-center.py-5
              i.fa.fa-calendar.text-primary.fa-4x.mb-4
              h2.h4.mb-3= t("Calendar Invitation Response")
              p.text-muted.mb-4= t("Click the button below to confirm your response to this calendar invitation.")
              if tokenData && tokenData.eventUid
                p.small.text-muted.mb-2
                  strong= t("Event:")
                  |
                  = " "
                  span.notranslate= tokenData.eventUid
              if tokenData && tokenData.organizerEmail
                p.small.text-muted.mb-4
                  strong= t("Organizer:")
                  |
                  = " "
                  span.notranslate= tokenData.organizerEmail
              .d-grid.gap-2
                form.d-inline(action=ctx.path, method="POST")
                  button.btn.btn-lg.w-100(
                    type="submit",
                    class=response === "accept" ? "btn-success" : response === "decline" ? "btn-danger" : "btn-warning"
                  )
                    if response === 'accept'
                      i.fa.fa-check.me-2
                    else if response === 'decline'
                      i.fa.fa-times.me-2
                    else
                      i.fa.fa-question.me-2
                    = responseText
          .alert.alert-light.mt-3.text-center.small
            = t("This invitation was sent via")
            |
            = " "
            a.alert-link(
              href="https://forwardemail.net",
              target="_blank",
              rel="noopener noreferrer"
            )= t("Forward Email")
            = ", "
            = t("a privacy-focused email service.")
