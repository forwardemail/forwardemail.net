extends layout

block append stylesheets
  if freddyCss
    style(nonce=nonce)!= freddyCss

block append scripts
  if !isBot(ctx.get('User-Agent'))
    if config.env === 'test'
      script(
        defer,
        src=`${config.urls.web}/js/domain-search.js`,
        crossorigin="anonymous"
      )
    else
      script(
        defer,
        src=manifest("js/domain-search.js"),
        integrity=manifest("js/domain-search.js", "integrity"),
        crossorigin="anonymous"
      )

block body
  include _modal-storage
  include _modal-domain-search
  +modalDomainSearch
  //- modal watch video
  if !isBot(ctx.get('User-Agent'))
    #modal-watch-video.modal.fade(
      tabindex="-1",
      role="dialog",
      aria-labelledby="modal-watch-video-title",
      aria-hidden="true"
    )
      .modal-dialog.modal-lg(role="document")
        .modal-content
          .modal-header.text-center.d-block
            #modal-watch-video-title.h4.d-inline-block.ml-4= t("See How It Works")
            button.close(
              type="button",
              data-dismiss="modal",
              aria-label="Close"
            )
              span(aria-hidden="true") &times;
          .modal-body
            .lazyframe(
              title=t("Forward Email's Paid Plans"),
              data-vendor="youtube_nocookie",
              data-src="https://www.youtube-nocookie.com/embed/N6zjv40zuIY?autoplay=0"
            )
  if !isBot(ctx.get('User-Agent'))
    #modal-for-creators.modal.fade(
      tabindex="-1",
      role="dialog",
      aria-labelledby="modal-for-creators-title",
      aria-hidden="true"
    )
      .modal-dialog.modal-lg(role="document")
        .modal-content
          .modal-header.text-center.d-block
            #modal-for-creators-title.h4.d-inline-block.ml-4= t("Email for Content Creators")
            button.close(
              type="button",
              data-dismiss="modal",
              aria-label="Close"
            )
              span(aria-hidden="true") &times;
          .modal-body
            .lazyframe(
              title=t("Email Forwarding for Creators"),
              data-vendor="youtube_nocookie",
              data-src="https://www.youtube-nocookie.com/embed/ql9rtNpTid4?autoplay=0"
            )
    #modal-for-developers.modal.fade(
      tabindex="-1",
      role="dialog",
      aria-labelledby="modal-for-developers-title",
      aria-hidden="true"
    )
      .modal-dialog.modal-lg(role="document")
        .modal-content
          .modal-header.text-center.d-block
            #modal-for-developers-title.h4.d-inline-block.ml-4= t("Email for Tech People")
            button.close(
              type="button",
              data-dismiss="modal",
              aria-label="Close"
            )
              span(aria-hidden="true") &times;
          .modal-body
            .lazyframe(
              title=t("Email Forwarding for Developers"),
              data-vendor="youtube_nocookie",
              data-src="https://www.youtube-nocookie.com/embed/1e9UyIoFu4Y?autoplay=0"
            )
    #modal-for-businesses.modal.fade(
      tabindex="-1",
      role="dialog",
      aria-labelledby="modal-for-businesses-title",
      aria-hidden="true"
    )
      .modal-dialog.modal-lg(role="document")
        .modal-content
          .modal-header.text-center.d-block
            #modal-for-businesses-title.h4.d-inline-block.ml-4= t("Email for Your Business")
            button.close(
              type="button",
              data-dismiss="modal",
              aria-label="Close"
            )
              span(aria-hidden="true") &times;
          .modal-body
            .lazyframe(
              title=t("Email Forwarding for Businesses"),
              data-vendor="youtube_nocookie",
              data-src="https://www.youtube-nocookie.com/embed/--p9LdmVSAw?autoplay=0"
            )
  .min-vh-100.bg-dark.text-white.d-flex.flex-column.pb-5.text-center(
    data-ignore-hash-change,
    id=!isPDF && ["/", "/private-business-email", ...Object.keys(useCases)].includes(ctx.pathWithoutLocale) && !isBot(ctx.get("User-Agent")) && !boolean(ctx.query.pricing) ? "freddy" : ""
  )
    if !isPDF && ['/', '/private-business-email', ...Object.keys(useCases)].includes(ctx.pathWithoutLocale) && !isBot(ctx.get("User-Agent")) && !boolean(ctx.query.pricing)
      //- #stars
      #stars2
      #stars3
    .container.my-auto.pt-5
      .row.mb-3
        .col-12(
          class=["en"].includes(locale) ? "col-md-9 col-lg-8 col-xl-6" : "col-lg-9"
        )
        .col-12
          if isBot(ctx.get('User-Agent'))
            h1.mb-1.display-4.font-weight-normal= t("Free Email Forwarding for Custom Domains")
          else
            h1.mb-1.display-3.font-weight-normal!= t("All-in-one Email Solution")
      if isBot(ctx.get('User-Agent'))
        //- Primary navigation links for crawlers
        .row.mb-3
          each phrase in ['Private business email', 'Custom domain email hosting', 'Open-source email hosting service']
            .col-md-4
              h2.h5.font-weight-normal.mb-3: a.text-white(
                href=l("/" + slug(phrase)),
                target="_blank",
                rel="noopener noreferrer"
              )= t(phrase)
        //- Main description paragraph
        .row.mb-3
          .col-12
            p.lead.text-white.mb-0= t("The best free email forwarding service for custom domains. Create unlimited email aliases, forward to any inbox, and send as your custom domain email address. 100% open-source and privacy-focused.")
        //- Why choose section
        .row.mb-3
          .col-12
            h3.h6.font-weight-normal.mb-2= t("Why choose Forward Email for custom domain email?")
            ul.list-unstyled.text-white
              li= t("Free email forwarding with unlimited aliases")
              li= t("Custom domain email hosting with SMTP, IMAP, and POP3")
              li= t("Send and receive email as you@yourdomain.com")
              li= t("100% open-source and privacy-first")
              li= t("No ads, no tracking, no data selling")
        //- Additional SEO content sections for crawlers
        .row.mb-4
          .col-12
            h3.h5.font-weight-normal.mb-3= t("Email Forwarding Features")
            p.text-white.mb-2= t("Forward Email provides enterprise-grade email forwarding with unlimited custom domain aliases. Our service supports catch-all addresses, regex pattern matching, and webhook integrations for developers.")
        .row.mb-4
          .col-md-6
            h4.h6.font-weight-normal.mb-2= t("For Businesses")
            p.text-white.small= t("Professional email addresses for your company with custom domains. SMTP, IMAP, and POP3 access with enterprise security features.")
          .col-md-6
            h4.h6.font-weight-normal.mb-2= t("For Developers")
            p.text-white.small= t("RESTful email API for sending and receiving emails. Webhook support, DNS verification, and comprehensive documentation.")
        .row.mb-4
          .col-md-6
            h4.h6.font-weight-normal.mb-2= t("For Privacy")
            p.text-white.small= t("Zero-knowledge encryption, no tracking, no ads. Your emails are protected with quantum-resistant encryption algorithms.")
          .col-md-6
            h4.h6.font-weight-normal.mb-2= t("Open Source")
            p.text-white.small= t("100% open-source codebase on GitHub. Audit our code, self-host, or contribute to the project.")
        //- Popular use cases links
        .row.mb-4
          .col-12
            h3.h5.font-weight-normal.mb-3= t("Popular Email Solutions")
            .row
              each useCase in ['/startup-company-email-solution', '/freelancer-professional-email-address', '/small-business-email-hosting-free', '/nonprofit-organization-email-setup', '/education-email-hosting-forwarding', '/healthcare-email-hosting-forwarding-hipaa']
                .col-md-4.col-6.mb-2
                  if useCases[useCase]
                    a.text-white.small(href=l(useCase))= t(useCases[useCase][0])
        //- Competitor alternatives section
        .row.mb-4
          .col-12
            h3.h5.font-weight-normal.mb-3= t("Email Service Alternatives")
            p.text-white.small.mb-2= t("Looking for alternatives to expensive email providers? Forward Email offers free and affordable plans compared to Google Workspace, Microsoft 365, ProtonMail, and other email services.")
            .row
              each alt in ['/gmail-alternative-open-source', '/protonmail-alternative-open-source', '/improvmx-alternative-better-features', '/postmark-alternative-open-source']
                .col-md-3.col-6.mb-2
                  if useCases[alt]
                    a.text-white.small(href=l(alt))= t(useCases[alt][0])
        //- Technical features section
        .row.mb-4
          .col-12
            h3.h5.font-weight-normal.mb-3= t("Technical Email Features")
            ul.list-unstyled.text-white.small
              li= t("DKIM, SPF, DMARC, and BIMI authentication")
              li= t("TLS encryption for all email transmission")
              li= t("PGP/GPG encrypted email forwarding")
              li= t("Regex-based email filtering and routing")
              li= t("Webhook notifications for incoming emails")
              li= t("REST API for programmatic email management")
        //- Trust signals section
        .row.mb-3
          .col-12
            h3.h5.font-weight-normal.mb-3= t("Trusted by Organizations Worldwide")
            p.text-white.small= t("Forward Email is trusted by millions of users including The Linux Foundation, Ubuntu, Netflix Games, Disney, US Naval Academy, Carnegie Mellon University, and thousands of businesses worldwide.")
      else
        .row.mb-3
          .col-12
            h2.h3.font-weight-normal.mb-3!= t("Privacy-focused email hosting, forwarding, newsletters, and API")
      .row
        .col-12
          include _quick-start
    //-.
      if !isBot(ctx.get('User-Agent'))
        a.text-decoration-none.pt-1.pb-4.pt-lg-4.text-uppercase.text-white.mx-auto.bounce-animation(
          href="#learn-more"
        )
          i.fa.fa-angle-double-down
          = " "
          = t("Learn more")
          = " "
          i.fa.fa-angle-double-down
  #learn-more.d-block.overflow-hidden.no-search(data-ignore-hash-change)
    include _marketing
  a.text-decoration-none.pt-1.pb-4.pt-lg-4.text-uppercase.text-themed.mx-auto.bounce-animation(
    href="#testimonials"
  )
    i.fa.fa-angle-double-down
    = " "
    = t("Happy Customers")
    = " "
    i.fa.fa-angle-double-down
  include _testimonials
  include _tti
