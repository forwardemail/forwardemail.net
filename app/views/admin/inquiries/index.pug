extends ../../layout

block append scripts
  script(
    defer,
    src=manifest("js/inquiries.js"),
    integrity=manifest("js/inquiries.js", "integrity"),
    crossorigin="anonymous"
  )

block body
  .container-fluid.py-3
    .row.mt-1
      .col
        include ../../_breadcrumbs
        form.ajax-form.table-ajax-form.card.mb-3(
          action=ctx.path,
          method="GET",
          data-table="#table-inquiries",
          data-search-params="q,status,show_resolved"
        )
          .card-body
            .h5.card-title= t("Search and Filter Inquiries")
            .row
              .col-md-8
                .form-group
                  label(for="input-keyword-search")= t("Search")
                  input#input-keyword-search.form-control(
                    type="text",
                    value=ctx.query.q || "",
                    name="q",
                    placeholder=t("Search by email, subject, or content...")
                  )
              .col-md-4
                .form-group
                  label(for="select-status")= t("Status Filter")
                  select#select-status.form-control(name="status")
                    option(value="", selected=!ctx.query.status) Active Inquiries (Default)
                    option(value="resolved", selected=ctx.query.status === "resolved") Resolved/Archived
            .row
              .col-12.text-right
                button.btn.btn-primary(type="submit")
                  i.fa.fa-search.mr-1
                  = t("Search")
                = " "
                button.btn.btn-secondary(type="button", onclick="window.location.href=window.location.pathname")= t("Reset")
        #table-inquiries
          include ./_table
