[defaults]
inventory = hosts.yml
deprecation_warnings = false
host_key_checking = false
allow_world_readable_tmpfiles = true
interpreter_python = "/usr/bin/python3"
remote_user = "devops"
remote_tmp = ~/.ansible/tmp

[ssh_connection]
# NOTE: pipelining is disabled because it conflicts with privilege escalation
# (become: true) used throughout our playbooks, and causes the ansiballz module
# payload zip in /tmp to be deleted during long-running tasks (e.g. apt with
# update_cache) when /tmp is mounted as tmpfs.
# See: https://github.com/ansible/ansible/issues/27699
pipelining = false
ssh_args = -o ControlMaster=auto -o ControlPersist=60s
